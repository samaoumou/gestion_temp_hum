<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page Admin</title>
</head>
<body >

    <div class="container col-md-8 bg-black bg-opacity-50 rounded border border-white border-3  p-3" *ngIf="!showForm">
<!-- Start partie 1 -->
<div class="container part1  bg-black bg-opacity-50  " style="border: 3px solid white;border-radius: 15px ;">
            <div class="d-flex  p-1" >
                  <div class="col-lg-9  ">
                  <a href="" routerLink="/off" style="font-size:24px;"> Dashbord
                   <img src="../../assets/dash.png" alt="deconect" ></a>
                  </div>
                  <div class="">
                    <h6 class="text-white  p-1 border" style="border-top-right-radius:1rem;border-bottom-left-radius:1rem; width: max-content;">
                      {{ this.currentUser.prenom }}  {{ this.currentUser.nom }} <img src="../../assets/cnUser.png" class="rounded-circle" style="width:15px;"></h6>
                    
                  </div>
                  <div class="deconect  mt-2">
                      <img src="../../assets/deconecter.png" alt="deconect" style="height: 50px;" (click)="doLogout()">
                  </div>

             </div>
 </div>
 <!-- End partie 1 -->
      <div class="container  part2 mt-4" >
        <div class="d-flex  gap-2">
        <div class="gestion bg-black bg-opacity-50 col-lg-4 p-2" style="  border: 2px solid white; height:200px ; border-radius: 15px ; border: 2px solid white;">
          <div class="">
          <a routerLink="/inscription"> <img src="../../assets/iconeUser.png" alt="deconect">Ajouter Utilisateurs</a>
        </div>
            <div class="mt-3">
              <img src="../../assets/modUser.png" alt="deconect" ><button class="btn" (click)="getData(this.currentUser.id, this.currentUser.nom, this.currentUser.prenom, this.currentUser.email)">Modifier_profile</button>
            </div>
            <div class="mt-3">
              <a routerLink="/listeAdmin"><img src="../../assets/listeUser.png" alt="deconect">Liste Utilisateurs</a>
            </div>
       </div>
       <!--  -->
        <div class="tmp-rel bg-black bg-opacity-50 col-lg-8 " style="  border: 2px solid white;height:200px ;border-radius: 15px ;border: 2px solid white;">
          <div class="row p-2">
            <div class="col-lg-12 " >
            <h3 class="text-white text-center border border-white" style="border-radius: 5px;">temps reel</h3>
            </div>
            <div class="row">
            <div class="col-lg-4">
                <h4 class="text-white  ">Température</h4>
               <!--  -->
               <div>
                <img   src="../../assets/Temp.png" alt="Temp" style="height: 50px;">
               <span class="text-white"> {{ temperature }}°C </span>
            </div>
            </div>
            <div class=" mt-4 border-white border rounded d-flex justify-content-center p-4 gap-5 " style="max-width: min-content;">
            
          <div class="">
             
         <img  *ngIf="temperature >= 30" src="../../assets/buzzerOn.gif"  style="height: 50px;">
         <img  *ngIf="temperature < 30" src="../../assets/buzzerOff.png"  style="height: 50px;">
        </div>
      <div class="">
              <img *ngIf="humidite >= 30" src="assets/minfanOn.gif"  style="height: 50px;">
              <img *ngIf="humidite < 30" src="assets/minfanOff.png"  style="height: 50px;">
            </div>
          
          </div>
            <div class="col-lg-3">

                <h4 class="text-white  ">Humidité</h4>
                <div>
                 <img src="../../assets/hum.png" alt="hum" style="height: 50px;">
                 <span class="text-white"> {{ humidite }} % </span>
                </div>
            </div>
             </div>
        </div>
        </div>
    </div>
      </div>

 <!-- Start partie 2 -->
 <div class="container  bg-black bg-opacity-50  part3 mt-4" >
    <div class="row">
        <div class="col-lg-8 col-md-4 col-lg-3 mt-2 ">
            <table class="table text-white  border border-white">
                <thead >
                  <tr>
                    <th scope="col">Heure</th>
                    <th scope="col">08H00</th>
                    <th scope="col">12H00</th>
                    <th scope="col">19H00</th>
                  </tr><br>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Température</th>
                    <td>27°C</td>
                    <td>30°C</td>
                    <td>23°C</td>
                  </tr><br>
                  <tr>
                    <th scope="row">Humidité</th>
                    <td>50%</td>
                    <td>30%</td>
                    <td>10%</td>
                  </tr>

                </tbody>
              </table>
        </div>
        <div class="sec col-lg-4 col-md-4 col-lg-3 mt-2">
            <img *ngIf="humidite >= 60" src="assets/humide.png" alt="humide">
            <img *ngIf="humidite < 60" src="assets/sec.png" alt="sec">
        </div>
    </div>
</div>
 <!-- End partie2 -->
    </div>

    <div class="container col-md-6" style=" border-radius:10px" *ngIf="showForm">
      <form method="POST" class="row g-3" id="loginform" [formGroup]="registerForm" (click)="onSubmit();">
        <span *ngIf="mailExiste != '' && mailExiste != undefined" class="alert alert-danger "> mail existe déja </span>
        
        <div>
          <h2 class="text-center mt-5 text-white" id="titre">FORMULAIRE MODIFICATION PROFIL</h2>
        </div>
        <div>
        </div>
        <div class="col-md-6">
          <label for="inputEmail4" class="form-label text-white" >PRENOM</label>
          <input type="text" formControlName="prenom" class="form-control"  placeholder="PRENOM"
          [ngClass]="{ 'is-invalid': submitted && registerForm.controls['prenom'].errors }" />
          <div *ngIf="submitted &&  registerForm.controls['prenom'].errors" class="text-danger">
          <div *ngIf="registerForm.controls['prenom'].errors['required'];then content else other_content">here is ignored</div>
          <ng-template #content>Ce champ est requis</ng-template>
          <ng-template #other_content>invalide</ng-template>
          </div>
        </div>
        <div class="col-md-6">
          <label for="inputPassword4" class="form-label text-white">NOM</label>
          <input type="text" formControlName="nom" class="form-control"  placeholder="NOM"
          [ngClass]="{ 'is-invalid': submitted && registerForm.controls['nom'].errors }" />
          <div *ngIf="submitted &&  registerForm.controls['nom'].errors" class="text-danger">
            <div *ngIf="registerForm.controls['nom'].errors['required'];then content else other_content">here is ignored</div>
            <ng-template #content>Ce champ est requis</ng-template>
            <ng-template #other_content>invalide</ng-template>
            </div>
           </div>
        <div class="col-8 a">
          <label for="inputAddress" class="form-label text-white">EMAIL</label>
          <input type="text" formControlName="email" class="form-control"  placeholder="EMAIL"
          [ngClass]="{ 'is-invalid': submitted && registerForm.controls['email'].errors }" />
          <div *ngIf="submitted &&  registerForm.controls['email'].errors" class="text-danger">
          <div *ngIf=" registerForm.controls['email'].errors['required']">Ce champ est requis</div>
          <div *ngIf=" registerForm.controls['email'].errors['pattern']">Format Mail incorrect</div>
        </div>
      </div>
        <br>
        <br>
        <div class="form-group pied">
          <button class="btn btn-primary btn-block noir" routerLink="/pageAdmin" type="submit">Modifier</button>
          <button class=" btn btn-primary noir" routerLink="/listeAdmin">Retour</button>
        </div>
      </form>
    </div>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js" integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</html>
